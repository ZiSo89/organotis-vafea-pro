-- ================================================================================
-- Οργανωτής Βαφέα Pro - Test Data
-- ================================================================================
USE painter_app;

-- Καθαρισμός υπαρχόντων δεδομένων
SET FOREIGN_KEY_CHECKS = 0;
TRUNCATE TABLE timesheets;
TRUNCATE TABLE job_materials;
TRUNCATE TABLE job_workers;
TRUNCATE TABLE invoices;
TRUNCATE TABLE offers;
TRUNCATE TABLE jobs;
TRUNCATE TABLE templates;
TRUNCATE TABLE materials;
TRUNCATE TABLE workers;
TRUNCATE TABLE clients;
TRUNCATE TABLE settings;
SET FOREIGN_KEY_CHECKS = 1;

-- ================================================================================
-- 1. ΠΕΛΑΤΕΣ (Clients)
-- ================================================================================
INSERT INTO clients (name, phone, email, address, city, postal_code, afm, notes) VALUES
('Γιάννης Παπαδόπουλος', '6944123456', 'giannis@example.com', 'Κολοκοτρώνη 25', 'Αθήνα', '10560', '123456789', 'Τακτικός πελάτης'),
('Μαρία Νικολάου', '6955234567', 'maria@example.com', 'Σταδίου 15', 'Θεσσαλονίκη', '54624', '987654321', 'Προτιμά ανοιχτά χρώματα'),
('Κώστας Γεωργίου', '6976345678', 'kostas@example.com', 'Πατησίων 100', 'Αθήνα', '10434', '456789123', NULL),
('Ελένη Αθανασίου', '6987456789', 'eleni@example.com', 'Τσιμισκή 50', 'Θεσσαλονίκη', '54623', '321654987', 'VIP πελάτης'),
('Νίκος Δημητρίου', '6912567890', 'nikos@example.com', 'Βουλής 22', 'Πειραιάς', '18531', '147258369', NULL);

-- ================================================================================
-- 2. ΕΡΓΑΤΕΣ (Workers)
-- ================================================================================
INSERT INTO workers (name, phone, specialty, hourly_rate, daily_rate) VALUES
('Δημήτρης Βασιλείου', '6923111222', 'Βαφέας', 15.00, 100.00),
('Γιώργος Αντωνίου', '6934222333', 'Βοηθός Βαφέα', 12.00, 80.00),
('Σωτήρης Μιχαήλ', '6945333444', 'Ειδικός σε Ξύλο', 18.00, 120.00),
('Παναγιώτης Ιωάννου', '6956444555', 'Βαφέας', 15.00, 100.00);

-- ================================================================================
-- 3. ΥΛΙΚΑ (Materials)
-- ================================================================================
INSERT INTO materials (name, unit, unit_price, stock, min_stock, category) VALUES
('Πλαστικό Χρώμα Λευκό 3L', 'τμχ', 12.50, 50, 10, 'Χρώματα'),
('Πλαστικό Χρώμα Μπεζ 3L', 'τμχ', 13.00, 30, 10, 'Χρώματα'),
('Ελαιόχρωμα Λευκό 750ml', 'τμχ', 8.50, 25, 5, 'Χρώματα'),
('Ρολό 25cm', 'τμχ', 3.50, 100, 20, 'Εργαλεία'),
('Πινέλο 5cm', 'τμχ', 2.80, 80, 15, 'Εργαλεία'),
('Νάιλον Προστασίας 4x5m', 'τμχ', 1.50, 200, 50, 'Αναλώσιμα'),
('Ταινία Χαρτοταινία 50mm', 'τμχ', 2.20, 150, 30, 'Αναλώσιμα'),
('Ακρυλικό Χρώμα Μπλε 1L', 'τμχ', 9.00, 20, 5, 'Χρώματα'),
('Ξύστρα Μεταλλική', 'τμχ', 4.50, 40, 10, 'Εργαλεία'),
('Αστάρι Ακρυλικό 3L', 'τμχ', 11.00, 35, 8, 'Χρώματα');

-- ================================================================================
-- 4. ΕΡΓΑΣΙΕΣ (Jobs)
-- ================================================================================
INSERT INTO jobs (client_id, title, description, address, city, postal_code, start_date, end_date, status, total_cost, is_paid, coordinates) VALUES
(1, 'Βαφή Διαμερίσματος 80τμ', 'Πλήρης βαφή 2άρι διαμέρισμα', 'Κολοκοτρώνη 25', 'Αθήνα', '10560', '2025-11-01', '2025-11-05', 'completed', 1200.00, TRUE, '{"lat": 37.9838, "lng": 23.7275}'),
(2, 'Βαφή Καταστήματος', 'Εσωτερική και εξωτερική βαφή', 'Σταδίου 15', 'Θεσσαλονίκη', '54624', '2025-11-10', '2025-11-15', 'in-progress', 2500.00, FALSE, '{"lat": 40.6401, "lng": 22.9444}'),
(3, 'Βαφή Γραφείου', 'Βαφή 3 χώρων γραφείου', 'Πατησίων 100', 'Αθήνα', '10434', '2025-11-20', '2025-11-22', 'pending', 800.00, FALSE, '{"lat": 38.0015, "lng": 23.7341}'),
(4, 'Βαφή Βίλας', 'Εξωτερική βαφή μονοκατοικίας', 'Τσιμισκή 50', 'Θεσσαλονίκη', '54623', '2025-12-01', '2025-12-10', 'pending', 3500.00, FALSE, '{"lat": 40.6318, "lng": 22.9486}');

-- ================================================================================
-- 5. ΣΥΝΔΕΣΗ ΕΡΓΑΣΙΩΝ-ΕΡΓΑΤΩΝ (Job Workers)
-- ================================================================================
INSERT INTO job_workers (job_id, worker_id, hours, days) VALUES
(1, 1, 32, 4),
(1, 2, 32, 4),
(2, 1, 40, 5),
(2, 3, 40, 5);

-- ================================================================================
-- 6. ΣΥΝΔΕΣΗ ΕΡΓΑΣΙΩΝ-ΥΛΙΚΩΝ (Job Materials)
-- ================================================================================
INSERT INTO job_materials (job_id, material_id, quantity, total_cost) VALUES
(1, 1, 10, 125.00),
(1, 4, 5, 17.50),
(1, 5, 3, 8.40),
(2, 1, 20, 250.00),
(2, 2, 5, 65.00),
(2, 10, 8, 88.00);

-- ================================================================================
-- 7. ΩΡΟΜΕΤΡΗΣΗ (Timesheets)
-- ================================================================================
INSERT INTO timesheets (job_id, worker_id, date, hours, overtime_hours, description) VALUES
(1, 1, '2025-11-01', 8, 0, 'Προετοιμασία και αστάρωμα'),
(1, 1, '2025-11-02', 8, 0, 'Πρώτο χέρι βαφής'),
(1, 1, '2025-11-03', 8, 0, 'Δεύτερο χέρι βαφής'),
(1, 1, '2025-11-04', 8, 0, 'Τελειώματα'),
(1, 2, '2025-11-01', 8, 0, 'Βοηθητικές εργασίες'),
(1, 2, '2025-11-02', 8, 0, 'Βοηθητικές εργασίες'),
(2, 1, '2025-11-10', 8, 2, 'Εξωτερική πρόσοψη'),
(2, 1, '2025-11-11', 8, 0, 'Εξωτερική πρόσοψη'),
(2, 3, '2025-11-10', 8, 0, 'Ξύλινα κουφώματα');

-- ================================================================================
-- 8. ΠΡΟΣΦΟΡΕΣ (Offers)
-- ================================================================================
INSERT INTO offers (client_id, offer_number, date, valid_until, items, subtotal, tax, discount, total, status, notes) VALUES
(3, 'ΠΡ-2025-001', '2025-11-05', '2025-11-20', 
'[{"description":"Βαφή τοίχων","quantity":3,"unitPrice":200,"total":600},{"description":"Υλικά","quantity":1,"unitPrice":150,"total":150}]',
750.00, 180.00, 50.00, 880.00, 'pending', 'Περιλαμβάνει και υλικά'),

(5, 'ΠΡ-2025-002', '2025-11-08', '2025-11-25',
'[{"description":"Βαφή εξωτερικού χώρου","quantity":1,"unitPrice":1500,"total":1500},{"description":"Αστάρωμα","quantity":1,"unitPrice":300,"total":300}]',
1800.00, 432.00, 0.00, 2232.00, 'pending', 'Χρειάζεται επιθεώρηση χώρου');

-- ================================================================================
-- 9. ΤΙΜΟΛΟΓΙΑ (Invoices)
-- ================================================================================
INSERT INTO invoices (job_id, client_id, invoice_number, date, items, subtotal, tax, discount, total, is_paid, paid_date) VALUES
(1, 1, 'ΤΙΜ-2025-001', '2025-11-05',
'[{"description":"Βαφή διαμερίσματος 80τμ","quantity":1,"unitPrice":1000,"total":1000},{"description":"Υλικά","quantity":1,"unitPrice":200,"total":200}]',
1200.00, 288.00, 0.00, 1488.00, TRUE, '2025-11-06');

-- ================================================================================
-- 10. ΠΡΟΤΥΠΑ (Templates)
-- ================================================================================
INSERT INTO templates (name, category, description, estimated_duration, materials, tasks) VALUES
('Βαφή Μικρού Διαμερίσματος', 'Διαμερίσματα', 'Πρότυπο για βαφή διαμερίσματος έως 60τμ', 3,
'[{"material_id":1,"quantity":8},{"material_id":4,"quantity":4},{"material_id":5,"quantity":2}]',
'[{"title":"Προετοιμασία","description":"Κάλυψη επίπλων και δαπέδου","estimatedHours":2},{"title":"Αστάρωμα","description":"Εφαρμογή αστάρι","estimatedHours":4},{"title":"Βαφή","description":"2 χέρια βαφής","estimatedHours":12},{"title":"Τελειώματα","description":"Καθαρισμός και αφαίρεση προστασίας","estimatedHours":2}]'),

('Βαφή Καταστήματος', 'Επαγγελματικοί Χώροι', 'Πρότυπο για βαφή καταστήματος', 5,
'[{"material_id":1,"quantity":15},{"material_id":2,"quantity":5},{"material_id":10,"quantity":6}]',
'[{"title":"Επιθεώρηση","description":"Έλεγχος χώρου και προετοιμασία","estimatedHours":3},{"title":"Προετοιμασία","description":"Κάλυψη και προστασία","estimatedHours":4},{"title":"Αστάρωμα","description":"Εφαρμογή αστάρι","estimatedHours":8},{"title":"Βαφή","description":"Πλήρης βαφή","estimatedHours":20},{"title":"Τελειώματα","description":"Καθαρισμός","estimatedHours":5}]');

-- ================================================================================
-- 11. ΡΥΘΜΙΣΕΙΣ (Settings)
-- ================================================================================
INSERT INTO settings (setting_key, setting_value, description) VALUES
('company_name', 'Οργανωτής Βαφέα Pro', 'Όνομα εταιρείας'),
('company_phone', '210-1234567', 'Τηλέφωνο επικοινωνίας'),
('company_email', 'info@painter.gr', 'Email επικοινωνίας'),
('company_afm', '999888777', 'ΑΦΜ εταιρείας'),
('tax_rate', '24', 'Συντελεστής ΦΠΑ (%)'),
('currency', 'EUR', 'Νόμισμα');

-- ================================================================================
-- ΤΕΛΟΣ TEST DATA
-- ================================================================================
